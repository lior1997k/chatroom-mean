<section class="auth-page">
  <div class="auth-shell">
    <div class="brand-panel">
      <p class="eyebrow">ChatRoom</p>
      <h1>Create your account</h1>
      <p class="lead">Join the room and start chatting in seconds.</p>
      <ul>
        <li>Public channels and direct threads</li>
        <li>Persistent history and unread counters</li>
        <li>Typing and delivery status included</li>
      </ul>
    </div>

    <div class="form-card">
      <h2>Sign up</h2>
      <p class="subtitle">Pick a username and a secure password.</p>

      <p *ngIf="infoMessage" class="notice info">{{ infoMessage }}</p>
      <p *ngIf="error" class="notice error">{{ error }}</p>
      <p *ngIf="success" class="notice success">{{ success }}</p>

      <form (ngSubmit)="register()" class="auth-form">
        <label class="field">
          <span>Email</span>
          <input type="email" [(ngModel)]="email" (input)="onEmailInput()" name="email" autocomplete="email" required />
          <small class="hint">Use an email you can access.</small>
        </label>

        <label class="field">
          <span>Username</span>
          <input type="text" [(ngModel)]="username" (input)="onUsernameInput()" name="username" autocomplete="username" required />
          <small class="hint">3-24 chars, lowercase letters, numbers, underscores.</small>
        </label>

        <label class="field">
          <span>Password</span>
          <div class="passwordField">
            <input [type]="showPassword ? 'text' : 'password'" [(ngModel)]="password" name="password" autocomplete="new-password" required />
            <button type="button" class="ghost-btn" (click)="toggleShowPassword()">{{ showPassword ? 'Hide' : 'Show' }}</button>
          </div>
          <small class="hint">{{ passwordPolicyHint() }}</small>
        </label>

        <label class="field">
          <span>Confirm password</span>
          <div class="passwordField">
            <input [type]="showConfirmPassword ? 'text' : 'password'" [(ngModel)]="confirmPassword" name="confirmPassword" autocomplete="new-password" required />
            <button type="button" class="ghost-btn" (click)="toggleShowConfirmPassword()">{{ showConfirmPassword ? 'Hide' : 'Show' }}</button>
          </div>
          <small class="hint" [class.hint-ok]="passwordsMatch()" [class.hint-bad]="!passwordsMatch() && passwordMatchHint()">{{ passwordMatchHint() }}</small>
        </label>

        <button type="submit" class="primary-btn" [disabled]="submitting">{{ submitting ? 'Creating...' : 'Create account' }}</button>
      </form>

      <p class="footnote">
        Already have an account?
        <a routerLink="/login">Sign in</a>
      </p>
    </div>
  </div>
</section>
